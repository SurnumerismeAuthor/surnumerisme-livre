name: Deploy Surnumérisme Site

on:
  schedule:
    - cron: '0 18 19 10 *'  # 18h UTC (19h WAT) le 19 octobre de chaque année
  workflow_dispatch:  # Lancement manuel

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - run: pip install --upgrade pip
      - run: pip install mkdocs mkdocs-material ghp-import
      - run: mkdocs build
      - run: ghp-import -n -p -m "Déploiement baptême 19 oct 2025" site